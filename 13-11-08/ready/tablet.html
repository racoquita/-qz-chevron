<style type="text/css">
	
</style>

<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no, minimum-scale=1, maximum-scale=1">

<script src="http://ads.qz.com/sponsors/chevron/13-11-08/tablet/js/hammer.min.js"></script>
<script type="text/javascript" src="http://ds.serving-sys.com/BurstingScript/EBLoader.js"></script>
<script type="text/javascript" src="http://ads.qz.com/sponsors/chevron/13-11-08/tablet/js/behavior.js"></script>
<script type="text/javascript" src="http://ads.qz.com/sponsors/chevron/13-11-08/tablet/js/rich_banner.js"></script>
<script src="http://ads.qz.com/sponsors/chevron/13-11-08/tablet/js/minified/TweenLite.min.js"></script>
<script src="http://ads.qz.com/sponsors/chevron/13-11-08/tablet/js/minified/easing/EasePack.min.js"></script>
<script src="http://ads.qz.com/sponsors/chevron/13-11-08/tablet/js/minified/plugins/CSSPlugin.min.js"></script>

<div id="base-port">
	<div id="container">
		<div id="logo"></div>
		<div id="slide">
			<div id = "slide1">
				<div id="txt1"></div>
				<div id="txt1b"></div>
			</div>
			<div id = "slide2">
				<div id="txt2"></div>
				<div id="txt2b"></div>
				<div id="f2lines"></div>
				<div id="f2bigman"></div>
				<div id="f2smallman1"></div>
				<div id="f2smallman2"></div>
				<div id="f2smallman3"></div>
			</div>
			<div id = "slide3">
				<div id="txt3"></div>
				<div id="f3map"></div>
				<div id="f3circle"></div>
				<div id="f3lines"></div>
				<div id="f3people"></div>
			</div>
			<div id = "slide4">
				<div id="txt4"></div>
				<div id="txt4b"></div>
				<div id="f4bar1"></div>
				<div id="f4bar2"></div>
				<div id="f42012"></div>
				<div id="f42020"></div>
				<div id="f4bartxt1"></div>
				<div id="f4bartxt2"></div>
				<div id="f4circle"></div>
			</div>
			<div id = "slide5">
				<div id="txt5"></div>
				<div id="txt5b"></div>
			</div>
		</div>
		<div id="nav"></div>
		<div id="paperBg">
			<a href="javascript:bkndClicked();" class="fill-div"></a>
		</div>
		<div id="clickBg">
			<a href="javascript:bkndClicked();" class="fill-div"></a>
		</div>
		<div id="reddot"></div>
		<div id="rarrow">
			<a href="javascript:rightClicked();" class="fill-div"></a>
		</div>
		<div id="larrow">
			<a href="javascript:leftClicked();" class="fill-div"></a>
		</div>
		<div id="bubble1">
			<a href="javascript:infoOff();" class="fill-div"></a>
		</div>
		<div id="bubble2">
			<a href="javascript:infoOff();" class="fill-div"></a>
		</div>
		<div id="bubble3">
			<a href="javascript:infoOff();" class="fill-div"></a>
		</div>
		<div id="infobtn" onclick="infoRolled();"></div>
		<div id="ctaarrow"></div>
		<div id="cta" onmouseover="ctaRolled();" onmouseout="ctaOff();">
			<a href="javascript:ctaClicked();" class="fill-div"></a>
		</div>
	</div>
</div>

<script type="text/javascript">
	var infoOpen = false;
	var slideSettled = true;
	var spd1 = .35;
	var slidePos = 0;
	var leftPos = -150;
	var rightPos = 1250;
	var startPt = 197;
	var frame2Done = false;
	var frame3Done = false;
	var frame4Done = false;
	var frame5Done = false;

	!EB.isInitialized()) ? EB.addEventListener(EBG.EventName.EB_INITIALIZED, onInit) : onInit();
    
	function infoRolled(){
		if(!infoOpen){
			infoOpen = true;
			if(slidePos==1){
				TweenLite.set(bubble1, {visibility:'visible', scaleX:.7, scaleY:.7});
			}
			if(slidePos==2){
				TweenLite.set(bubble2, {visibility:'visible', scaleX:.7, scaleY:.7});
			}
			if(slidePos==3){
				TweenLite.set(bubble3, {visibility:'visible', scaleX:.7, scaleY:.7});
			}
		}
		else{
			infoOff();
		}
	
	}
	function infoOff(){
		infoOpen = false;
		if(slidePos==1){
			TweenLite.set(bubble1, {visibility:'hidden'});
		}
		if(slidePos==2){
			TweenLite.set(bubble2, {visibility:'hidden'});
		}
		if(slidePos==3){
			TweenLite.set(bubble3, {visibility:'hidden'});
		}
	}
	function ctaRolled(){
		TweenLite.to(ctaarrow, .3, {left:318});
	}
	function ctaOff(){
		TweenLite.to(ctaarrow, .3, {left:312});
	}
	function onInit(){
		var t1 = document.getElementById("txt1");
		var t1b = document.getElementById("txt1b");
		TweenLite.set(t1, {scaleX:3, scaleY:3, opacity:0});
		TweenLite.set(t1b, {scaleX:3, scaleY:3, opacity:0});
		animateIn();
	}
	function animateIn() {
		var t1 = document.getElementById("txt1");
		var t1b = document.getElementById("txt1b");
		TweenLite.to(t1, .4, {opacity:1, scaleX:1, scaleY:1, ease:Cubic.easeIn});
		TweenLite.to(t1b, .4, {delay:.2, opacity:1, scaleX:1, scaleY:1, ease:Cubic.easeIn});
	}
	function moveRight(){
		infoOff();
		var larrow = document.getElementById("larrow");
		var rarrow = document.getElementById("rarrow");
		var slide = document.getElementById("slide");
		
		if(slidePos < 4 && slideSettled){
				
				TweenLite.set(larrow, {visibility:'visible'});
				slidePos++;
				checkAnimation();
				moveSlide();
		}
		if(slidePos == 4) {
			
			TweenLite.set(rarrow, {visibility:'hidden'});
		}
	}
	function moveLeft(){
		infoOff();
		var larrow = document.getElementById("larrow");
		var rarrow = document.getElementById("rarrow");
		var slide = document.getElementById("slide");			
		
		if(slidePos > 0 && slideSettled){
				TweenLite.set(rarrow, {visibility:'visible'});
				slidePos--;
				checkAnimation();
				moveSlide();
			}
			if(slidePos == 0){
				TweenLite.set(larrow, {visibility:'hidden'});
			}
	}
	function moveSlide(){
		var slide = document.getElementById("slide");
		var slidenum = -1200 * slidePos;
		TweenLite.to(slide, .4, {x:slidenum, ease:Cubic.easeIn});
	}
	function checkAnimation(){
		if(slidePos==0){
			TweenLite.set(infobtn, {visibility:'hidden'});
			TweenLite.set(reddot, {left:201});
		}
		if(slidePos==1){
			TweenLite.set(reddot, {left:219});
			TweenLite.set(infobtn, {visibility:'visible'});
			if(!frame2Done){
				frame2Done = true;
				var f2bigman = document.getElementById("f2bigman");
				TweenLite.set(f2bigman, {scaleX:0, scaleY:0, opacity:0});
				TweenLite.set(f2smallman1, {scaleX:0, scaleY:0, opacity:0});
				TweenLite.set(f2smallman2, {scaleX:0, scaleY:0, opacity:0});
				TweenLite.set(f2smallman3, {scaleX:0, scaleY:0, opacity:0});
				TweenLite.set(f2lines, {scaleX:0, scaleY:0, opacity:0});
				TweenLite.to(f2bigman, .4, {delay:.4, scaleX:.8, scaleY:.8, opacity:1, ease:Cubic.easeIn});
				TweenLite.to(f2lines, .4, {delay:.6, scaleX:.8, scaleY:.8, opacity:1, ease:Cubic.easeIn});
				TweenLite.to(f2smallman1, .4, {delay:.8, scaleX:.8, scaleY:.8, opacity:1, ease:Cubic.easeIn});
				TweenLite.to(f2smallman2, .4, {delay:1, scaleX:.8, scaleY:.8, opacity:1, ease:Cubic.easeIn});
				TweenLite.to(f2smallman3, .4, {delay:1.2, scaleX:.8, scaleY:.8, opacity:1, ease:Cubic.easeIn});
			}
		}
		if(slidePos==2){
			TweenLite.set(infobtn, {visibility:'visible'});
			TweenLite.set(reddot, {left:236});
			if(!frame3Done){
				frame3Done = true;
				TweenLite.set(f3people, {scaleX:0, scaleY:0, opacity:0});
				TweenLite.set(f3lines, {scaleX:0, scaleY:0, opacity:0, transformOrigin:"left 100px"});
				TweenLite.to(f3lines, .6, {delay:.4, scaleX:1, scaleY:1, opacity:1, ease:Cubic.easeIn});
				TweenLite.to(f3people, .6, {delay:.8, scaleX:1, scaleY:1, opacity:1, ease:Cubic.easeIn});
			}
		}
		if(slidePos==3){
			TweenLite.set(f42012, {scaleX:.8, scaleY:.8});
			TweenLite.set(f42020, {scaleX:.8, scaleY:.8});
			TweenLite.set(infobtn, {visibility:'visible'});
			TweenLite.set(reddot, {left:253});
			TweenLite.set(cta, {visibility:'hidden'});
			TweenLite.set(ctaarrow, {visibility:'hidden'});
			if(!frame4Done){
				frame4Done = true;
				TweenLite.set(f4bartxt1, {opacity:0});
				TweenLite.set(f4bartxt2, {opacity:0});
				TweenLite.set(f4bar1, {scaleX:0, opacity:0, transformOrigin:"left 540px"});
				TweenLite.set(f4bar2, {scaleX:0, opacity:0, transformOrigin:"left 540px"});
				TweenLite.to(f4bar1, .5, {delay:.4, scaleX:1, opacity:1, ease:Cubic.easeIn});
				TweenLite.to(f4bar2, .5, {delay:.8, scaleX:1, opacity:1, ease:Cubic.easeIn});
				TweenLite.to(f4bartxt1, .5, {delay:.8, opacity:1, ease:Cubic.easeIn});
				TweenLite.to(f4bartxt2, .5, {delay:1, opacity:1, ease:Cubic.easeIn});
			}
		}
		if(slidePos==4){
			
			TweenLite.set(infobtn, {visibility:'hidden'});
			TweenLite.set(reddot, {left:271});
			TweenLite.set(ctaarrow, {visibility:'visible', opacity:0});
			TweenLite.set(cta, {visibility:'visible', opacity:0});
			TweenLite.to(cta, .4, {opacity:1, delay:.4, ease:Cubic.easeIn});
			TweenLite.to(ctaarrow, .4, {opacity:1, delay:.4, ease:Cubic.easeIn});
			if(!frame5Done){
				frame5Done = true;
				TweenLite.set(txt5, {scaleX:3, scaleY:3, opacity:0});
				TweenLite.set(txt5b, {scaleX:3, scaleY:3, opacity:0});
				TweenLite.to(txt5, .5, {delay:.4, scaleX:1, scaleY:1, opacity:1, ease:Cubic.easeIn});
				TweenLite.to(txt5b, .5, {delay:.6, scaleX:1, scaleY:1, opacity:1, ease:Cubic.easeIn});
			}
		}
	}
</script>
<script type="text/javascript" charset="utf-8">
	
	var hammertime = Hammer(document.getElementById("base-port"));

    hammertime.on("swipeleft", function(ev) {
		ev.preventDefault();
        moveRight ();
    });
	hammertime.on("swiperight", function(ev) {
		ev.preventDefault();
        moveLeft();
    });
</script>

